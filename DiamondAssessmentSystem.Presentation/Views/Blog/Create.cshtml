@model DiamondAssessmentSystem.Application.DTO.BlogDto
@{
    ViewData["Title"] = "Create Blog";
}

<div class="max-w-3xl mx-auto px-4 py-12">
    <!-- Header -->
    <div class="mb-10 text-center">
        <h1 class="text-4xl font-bold text-gray-900 mb-2">📝 Create New Blog</h1>
        <p class="text-gray-600 text-sm">Share your knowledge, idea, or story with the world.</p>
    </div>

    <!-- Form -->
    <form asp-action="Create" class="bg-white rounded-2xl shadow-xl p-8 space-y-8 border border-gray-200">
        <div asp-validation-summary="ModelOnly" class="text-red-500 text-sm"></div>

        <!-- Title -->
        <div>
            <label asp-for="Title" class="block font-semibold text-gray-700 mb-1">Title</label>
            <input asp-for="Title" class="w-full border-gray-300 rounded-md shadow-sm focus:ring focus:ring-blue-200" />
            <span asp-validation-for="Title" class="text-red-500 text-sm"></span>
        </div>

        <!-- Image -->
        <div>
            <label asp-for="ImageUrl" class="block font-semibold text-gray-700 mb-1">Image URL</label>
            <input asp-for="ImageUrl" id="imageUrl" class="w-full border-gray-300 rounded-md shadow-sm focus:ring focus:ring-blue-200" />
            <span asp-validation-for="ImageUrl" class="text-red-500 text-sm"></span>

            <div class="mt-4">
                <label class="block text-gray-600 text-sm mb-1">Preview:</label>
                <img id="imagePreview" src="" alt="Image preview" class="rounded-lg shadow-sm max-h-64 w-full object-cover border border-gray-100" />
            </div>
        </div>

        <!-- Content -->
        <div>
            <label asp-for="Content" class="block font-semibold text-gray-700 mb-1">Content</label>
            <textarea asp-for="Content" rows="8" class="w-full border-gray-300 rounded-md shadow-sm focus:ring focus:ring-blue-200"></textarea>
            <span asp-validation-for="Content" class="text-red-500 text-sm"></span>
        </div>

        <!-- Actions -->
        <div class="flex items-center justify-between">
            <button type="submit" class="bg-blue-600 text-white px-6 py-2.5 rounded-lg hover:bg-blue-700 transition font-semibold">🚀 Create</button>
            <a asp-action="Index" class="text-gray-500 hover:text-blue-600 text-sm">← Back to List</a>
        </div>
    </form>
</div>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
    <script>
        const imgInput = document.getElementById('imageUrl');
        const preview = document.getElementById('imagePreview');
        imgInput.addEventListener('input', () => {
            preview.src = imgInput.value;
        });
    </script>
}
